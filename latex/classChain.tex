\hypertarget{classChain}{}\section{Chain Class Reference}
\label{classChain}\index{Chain@{Chain}}


{\ttfamily \#include $<$Chain.\+h$>$}

\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classChain_ae70c386f5d7b2e333419296545656907}{Chain}} (\mbox{\hyperlink{classBlock}{Block}} $\ast$b, \mbox{\hyperlink{classChain}{Chain}} $\ast$c)
\item 
\mbox{\hyperlink{classChain_a6779b5168023552f943c54baed7e7cd4}{Chain}} (\mbox{\hyperlink{classReward}{Reward}} $\ast$r)
\item 
\mbox{\hyperlink{classChain_a06b56afcf5b9ef0c6371b49ae2eef2da}{$\sim$\+Chain}} ()
\item 
\mbox{\hyperlink{classChain}{Chain}} $\ast$ \mbox{\hyperlink{classChain_a7a271a75a12aeae52a2645dcaa14549c}{add}} (\mbox{\hyperlink{classBlock}{Block}} $\ast$)
\item 
std\+::pair$<$ int, \mbox{\hyperlink{classChain}{Chain}} $\ast$ $>$ \mbox{\hyperlink{classChain_a5ee2e1efbfe8d2896b0ac836fb750362}{top\+\_\+fingerprint}} ()
\item 
void \mbox{\hyperlink{classChain_a19dda9a394df1d45b014c649eb77cb64}{update\+\_\+database}} (\mbox{\hyperlink{classBlock}{Block}} $\ast$b, const \mbox{\hyperlink{classSerializer}{Serializer}} $\ast$s, const char $\ast$encoding)
\item 
bool \mbox{\hyperlink{classChain_a5725ffa89b1f0333536238951d9acd91}{check\+\_\+transaction}} (\mbox{\hyperlink{classTransaction}{Transaction}} $\ast$transaction, std\+::string k)
\item 
int \mbox{\hyperlink{classChain_ad06a7e312123831339b614a74ff5c9e0}{count}} () const
\end{DoxyCompactItemize}
\subsection*{Friends}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classChain_adfdd1242f00ef4da9a9a01d996fc292c}\label{classChain_adfdd1242f00ef4da9a9a01d996fc292c}} 
class {\bfseries Node\+State}
\end{DoxyCompactItemize}


\subsection{Detailed Description}
The chain contains all of the blocks and builds the block chain. It also updates the current state of a system with temporal databases. \begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{classDatabase}{Database}} 

\mbox{\hyperlink{classBlock}{Block}} 

\mbox{\hyperlink{classHash}{Hash}}
\end{DoxySeeAlso}
\begin{DoxyAuthor}{Author}
Mathieu Lochet 
\end{DoxyAuthor}
\begin{DoxyVersion}{Version}
1 
\end{DoxyVersion}


\subsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classChain_ae70c386f5d7b2e333419296545656907}\label{classChain_ae70c386f5d7b2e333419296545656907}} 
\index{Chain@{Chain}!Chain@{Chain}}
\index{Chain@{Chain}!Chain@{Chain}}
\subsubsection{\texorpdfstring{Chain()}{Chain()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily Chain\+::\+Chain (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classBlock}{Block}} $\ast$}]{b,  }\item[{\mbox{\hyperlink{classChain}{Chain}} $\ast$}]{c }\end{DoxyParamCaption})}

Creates a new \mbox{\hyperlink{classChain}{Chain}}, with a parent \mbox{\hyperlink{classChain}{Chain}} and a corresponding block \begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{classBlock}{Block}}
\end{DoxySeeAlso}

\begin{DoxyParams}{Parameters}
{\em b} & The new \mbox{\hyperlink{classBlock}{Block}} to add on the chain \\
\hline
{\em c} & The parent \mbox{\hyperlink{classChain}{Chain}} \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classChain_a6779b5168023552f943c54baed7e7cd4}\label{classChain_a6779b5168023552f943c54baed7e7cd4}} 
\index{Chain@{Chain}!Chain@{Chain}}
\index{Chain@{Chain}!Chain@{Chain}}
\subsubsection{\texorpdfstring{Chain()}{Chain()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily Chain\+::\+Chain (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classReward}{Reward}} $\ast$}]{r }\end{DoxyParamCaption})}

Creates the root chain, with a given \mbox{\hyperlink{classReward}{Reward}} object


\begin{DoxyParams}{Parameters}
{\em r} & The reward object used to update the database when a block is added \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classChain_a06b56afcf5b9ef0c6371b49ae2eef2da}\label{classChain_a06b56afcf5b9ef0c6371b49ae2eef2da}} 
\index{Chain@{Chain}!````~Chain@{$\sim$\+Chain}}
\index{````~Chain@{$\sim$\+Chain}!Chain@{Chain}}
\subsubsection{\texorpdfstring{$\sim$\+Chain()}{~Chain()}}
{\footnotesize\ttfamily Chain\+::$\sim$\+Chain (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

A destructor which destroy all of the child and database 

\subsection{Member Function Documentation}
\mbox{\Hypertarget{classChain_a7a271a75a12aeae52a2645dcaa14549c}\label{classChain_a7a271a75a12aeae52a2645dcaa14549c}} 
\index{Chain@{Chain}!add@{add}}
\index{add@{add}!Chain@{Chain}}
\subsubsection{\texorpdfstring{add()}{add()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classChain}{Chain}} $\ast$ Chain\+::add (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classBlock}{Block}} $\ast$}]{b }\end{DoxyParamCaption})}

Add a new block on the chain, and links it with its parent\textquotesingle{}s fingerprint

\begin{DoxyReturn}{Returns}
the newly created chain 
\end{DoxyReturn}
\mbox{\Hypertarget{classChain_a5725ffa89b1f0333536238951d9acd91}\label{classChain_a5725ffa89b1f0333536238951d9acd91}} 
\index{Chain@{Chain}!check\+\_\+transaction@{check\+\_\+transaction}}
\index{check\+\_\+transaction@{check\+\_\+transaction}!Chain@{Chain}}
\subsubsection{\texorpdfstring{check\+\_\+transaction()}{check\_transaction()}}
{\footnotesize\ttfamily bool Chain\+::check\+\_\+transaction (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classTransaction}{Transaction}} $\ast$}]{transaction,  }\item[{std\+::string}]{k }\end{DoxyParamCaption})}

Check if the transaction can be applied in a new block \begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{classTransaction}{Transaction}}
\end{DoxySeeAlso}

\begin{DoxyParams}{Parameters}
{\em transaction} & the transaction to check \\
\hline
{\em k} & The identifier ot the user in the database \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true if it can be applied, false otherwise 
\end{DoxyReturn}
\mbox{\Hypertarget{classChain_ad06a7e312123831339b614a74ff5c9e0}\label{classChain_ad06a7e312123831339b614a74ff5c9e0}} 
\index{Chain@{Chain}!count@{count}}
\index{count@{count}!Chain@{Chain}}
\subsubsection{\texorpdfstring{count()}{count()}}
{\footnotesize\ttfamily int Chain\+::count (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}

Count the number of blocks in totalm including the ones on forks

\begin{DoxyReturn}{Returns}
The number of blocks in the \mbox{\hyperlink{classChain}{Chain}} 
\end{DoxyReturn}
\mbox{\Hypertarget{classChain_a5ee2e1efbfe8d2896b0ac836fb750362}\label{classChain_a5ee2e1efbfe8d2896b0ac836fb750362}} 
\index{Chain@{Chain}!top\+\_\+fingerprint@{top\+\_\+fingerprint}}
\index{top\+\_\+fingerprint@{top\+\_\+fingerprint}!Chain@{Chain}}
\subsubsection{\texorpdfstring{top\+\_\+fingerprint()}{top\_fingerprint()}}
{\footnotesize\ttfamily std\+::pair$<$ int, \mbox{\hyperlink{classChain}{Chain}} $\ast$ $>$ Chain\+::top\+\_\+fingerprint (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Get the top chain in the block chain

\begin{DoxyReturn}{Returns}
A pair containing both the depth of the top chain, and the chain itself 
\end{DoxyReturn}
\mbox{\Hypertarget{classChain_a19dda9a394df1d45b014c649eb77cb64}\label{classChain_a19dda9a394df1d45b014c649eb77cb64}} 
\index{Chain@{Chain}!update\+\_\+database@{update\+\_\+database}}
\index{update\+\_\+database@{update\+\_\+database}!Chain@{Chain}}
\subsubsection{\texorpdfstring{update\+\_\+database()}{update\_database()}}
{\footnotesize\ttfamily void Chain\+::update\+\_\+database (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classBlock}{Block}} $\ast$}]{b,  }\item[{const \mbox{\hyperlink{classSerializer}{Serializer}} $\ast$}]{s,  }\item[{const char $\ast$}]{encoding }\end{DoxyParamCaption})}

Update the chain database with a given block. The method will apply all of the transactions to the database


\begin{DoxyParams}{Parameters}
{\em b} & The block to use for update \\
\hline
{\em s} & The serializer \\
\hline
{\em encoding} & The encoding that has been used to create the \mbox{\hyperlink{classElement}{Element}} representation of the object \\
\hline
\end{DoxyParams}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
block\+\_\+chain/chain/Chain.\+h\item 
block\+\_\+chain/chain/Chain.\+cpp\end{DoxyCompactItemize}
