\hypertarget{classNodeState}{}\section{Node\+State Class Reference}
\label{classNodeState}\index{Node\+State@{Node\+State}}


{\ttfamily \#include $<$Node\+State.\+h$>$}

\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classNodeState_acd97fc0d223a0037fb60228ef3a8d8fc}{Node\+State}} (const \mbox{\hyperlink{classSerializer}{Serializer}} $\ast$s, int si=64, const char $\ast$e=\char`\"{}json\char`\"{}, const \mbox{\hyperlink{classReward}{Reward}} $\ast$r=nullptr)
\item 
\mbox{\hyperlink{classBlock}{Block}} $\ast$ \mbox{\hyperlink{classNodeState_a132d657fd8413e9f7eb92237cc66b38c}{create\+\_\+block}} () const
\item 
\mbox{\hyperlink{classBlock}{Block}} $\ast$ \mbox{\hyperlink{classNodeState_a010b7e7cb6d050a2d78962e6532aea9d}{add}} (std\+::string transaction, std\+::string public\+\_\+key)
\item 
void \mbox{\hyperlink{classNodeState_a75e2e94448c4b5579b93b5c2fc0671b9}{add}} (\mbox{\hyperlink{classBlock}{Block}} $\ast$block)
\item 
void \mbox{\hyperlink{classNodeState_ae2e3a8a54ab5276bf469af2cf2107f2b}{read\+\_\+blocks}} ()
\item 
bool \mbox{\hyperlink{classNodeState_ad8fac1372753ec35c9fcee92f71d75d6}{check\+\_\+transaction}} (\mbox{\hyperlink{classTransaction}{Transaction}} $\ast$transaction, std\+::string k)
\item 
void \mbox{\hyperlink{classNodeState_aedd8b10b2ca3f51e5c95b7ebed70464c}{show\+\_\+current\+\_\+state}} ()
\item 
bool \mbox{\hyperlink{classNodeState_a771321e4b2c56515ffb79e57da71db30}{get}} (\mbox{\hyperlink{classHash}{Hash}} $\ast$p\+Hash)
\item 
\mbox{\hyperlink{classBlock}{Block}} $\ast$ \mbox{\hyperlink{classNodeState_a130cf13803990afc44bee6bed8dd4e05}{get}} (std\+::string \&hash)
\end{DoxyCompactItemize}


\subsection{Detailed Description}
The \mbox{\hyperlink{classNodeState}{Node\+State}} class contains all the data at a time T. It is in charge of block generation and validation builds the block chain. It also updates the current state of a system with temporal databases. \begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{classSerializer}{Serializer}} 

\mbox{\hyperlink{classChain}{Chain}} 

\mbox{\hyperlink{classHash}{Hash}} 

\mbox{\hyperlink{classTransaction}{Transaction}} 

\mbox{\hyperlink{classBlock}{Block}}
\end{DoxySeeAlso}
\begin{DoxyAuthor}{Author}
Mathieu Lochet 
\end{DoxyAuthor}
\begin{DoxyVersion}{Version}
5 
\end{DoxyVersion}


\subsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classNodeState_acd97fc0d223a0037fb60228ef3a8d8fc}\label{classNodeState_acd97fc0d223a0037fb60228ef3a8d8fc}} 
\index{Node\+State@{Node\+State}!Node\+State@{Node\+State}}
\index{Node\+State@{Node\+State}!Node\+State@{Node\+State}}
\subsubsection{\texorpdfstring{Node\+State()}{NodeState()}}
{\footnotesize\ttfamily Node\+State\+::\+Node\+State (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classSerializer}{Serializer}} $\ast$}]{s,  }\item[{int}]{si = {\ttfamily 64},  }\item[{const char $\ast$}]{e = {\ttfamily \char`\"{}json\char`\"{}},  }\item[{const \mbox{\hyperlink{classReward}{Reward}} $\ast$}]{r = {\ttfamily nullptr} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [explicit]}}

Creates a new \mbox{\hyperlink{classNodeState}{Node\+State}} object with a root chain a base reward transaction and a size for block generation \begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{classSerializer}{Serializer}}
\end{DoxySeeAlso}

\begin{DoxyParams}{Parameters}
{\em s} & The used serializer \\
\hline
{\em si} & The size of a block \\
\hline
{\em e} & The used encoding \\
\hline
{\em r} & The reward object \\
\hline
\end{DoxyParams}


\subsection{Member Function Documentation}
\mbox{\Hypertarget{classNodeState_a010b7e7cb6d050a2d78962e6532aea9d}\label{classNodeState_a010b7e7cb6d050a2d78962e6532aea9d}} 
\index{Node\+State@{Node\+State}!add@{add}}
\index{add@{add}!Node\+State@{Node\+State}}
\subsubsection{\texorpdfstring{add()}{add()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \mbox{\hyperlink{classBlock}{Block}} $\ast$ Node\+State\+::add (\begin{DoxyParamCaption}\item[{std\+::string}]{transaction,  }\item[{std\+::string}]{public\+\_\+key }\end{DoxyParamCaption})}

Add a transaction. If the number of transaction is equal to the size field, then a new \mbox{\hyperlink{classBlock}{Block}} is created \begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{classBlock}{Block}}
\end{DoxySeeAlso}

\begin{DoxyParams}{Parameters}
{\em transaction} & The serialized and ciphered serialization \\
\hline
{\em public\+\_\+key} & The key to decipher the transaction \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A new \mbox{\hyperlink{classBlock}{Block}} is the number of transactions equals the size field, nullptr otherwise 
\end{DoxyReturn}
\mbox{\Hypertarget{classNodeState_a75e2e94448c4b5579b93b5c2fc0671b9}\label{classNodeState_a75e2e94448c4b5579b93b5c2fc0671b9}} 
\index{Node\+State@{Node\+State}!add@{add}}
\index{add@{add}!Node\+State@{Node\+State}}
\subsubsection{\texorpdfstring{add()}{add()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily void Node\+State\+::add (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classBlock}{Block}} $\ast$}]{block }\end{DoxyParamCaption})}

Add a new \mbox{\hyperlink{classBlock}{Block}} to the chain and generate the file. \begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{classBlock}{Block}}
\end{DoxySeeAlso}

\begin{DoxyParams}{Parameters}
{\em block} & the block to add to the block chain \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classNodeState_ad8fac1372753ec35c9fcee92f71d75d6}\label{classNodeState_ad8fac1372753ec35c9fcee92f71d75d6}} 
\index{Node\+State@{Node\+State}!check\+\_\+transaction@{check\+\_\+transaction}}
\index{check\+\_\+transaction@{check\+\_\+transaction}!Node\+State@{Node\+State}}
\subsubsection{\texorpdfstring{check\+\_\+transaction()}{check\_transaction()}}
{\footnotesize\ttfamily bool Node\+State\+::check\+\_\+transaction (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classTransaction}{Transaction}} $\ast$}]{transaction,  }\item[{std\+::string}]{k }\end{DoxyParamCaption})}

Check if a transaction is valid or not


\begin{DoxyParams}{Parameters}
{\em transaction} & The transaction to check \\
\hline
{\em k} & The key of the transaction\textquotesingle{}s creator \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true if it is valid, false otherwise 
\end{DoxyReturn}
\mbox{\Hypertarget{classNodeState_a132d657fd8413e9f7eb92237cc66b38c}\label{classNodeState_a132d657fd8413e9f7eb92237cc66b38c}} 
\index{Node\+State@{Node\+State}!create\+\_\+block@{create\+\_\+block}}
\index{create\+\_\+block@{create\+\_\+block}!Node\+State@{Node\+State}}
\subsubsection{\texorpdfstring{create\+\_\+block()}{create\_block()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classBlock}{Block}} $\ast$ Node\+State\+::create\+\_\+block (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}

Creates a block using the stored transactions \begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{classBlock}{Block}}
\end{DoxySeeAlso}
\begin{DoxyReturn}{Returns}
the newly created \mbox{\hyperlink{classBlock}{Block}} 
\end{DoxyReturn}
\mbox{\Hypertarget{classNodeState_a771321e4b2c56515ffb79e57da71db30}\label{classNodeState_a771321e4b2c56515ffb79e57da71db30}} 
\index{Node\+State@{Node\+State}!get@{get}}
\index{get@{get}!Node\+State@{Node\+State}}
\subsubsection{\texorpdfstring{get()}{get()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily bool Node\+State\+::get (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classHash}{Hash}} $\ast$}]{p\+Hash }\end{DoxyParamCaption})}

Try to find a given hash in the database \begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{classHash}{Hash}}
\end{DoxySeeAlso}
\begin{DoxyReturn}{Returns}
1 if the fingerprint has been found, 0 otherwise 
\end{DoxyReturn}
\mbox{\Hypertarget{classNodeState_a130cf13803990afc44bee6bed8dd4e05}\label{classNodeState_a130cf13803990afc44bee6bed8dd4e05}} 
\index{Node\+State@{Node\+State}!get@{get}}
\index{get@{get}!Node\+State@{Node\+State}}
\subsubsection{\texorpdfstring{get()}{get()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily \mbox{\hyperlink{classBlock}{Block}} $\ast$ Node\+State\+::get (\begin{DoxyParamCaption}\item[{std\+::string \&}]{hash }\end{DoxyParamCaption})}

Try to find a given hash in the database

\begin{DoxyReturn}{Returns}
The corresponding block if it is found, nullptr otherwise 
\end{DoxyReturn}
\mbox{\Hypertarget{classNodeState_ae2e3a8a54ab5276bf469af2cf2107f2b}\label{classNodeState_ae2e3a8a54ab5276bf469af2cf2107f2b}} 
\index{Node\+State@{Node\+State}!read\+\_\+blocks@{read\+\_\+blocks}}
\index{read\+\_\+blocks@{read\+\_\+blocks}!Node\+State@{Node\+State}}
\subsubsection{\texorpdfstring{read\+\_\+blocks()}{read\_blocks()}}
{\footnotesize\ttfamily void Node\+State\+::read\+\_\+blocks (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Read all of the block files and memorize all of it \mbox{\Hypertarget{classNodeState_aedd8b10b2ca3f51e5c95b7ebed70464c}\label{classNodeState_aedd8b10b2ca3f51e5c95b7ebed70464c}} 
\index{Node\+State@{Node\+State}!show\+\_\+current\+\_\+state@{show\+\_\+current\+\_\+state}}
\index{show\+\_\+current\+\_\+state@{show\+\_\+current\+\_\+state}!Node\+State@{Node\+State}}
\subsubsection{\texorpdfstring{show\+\_\+current\+\_\+state()}{show\_current\_state()}}
{\footnotesize\ttfamily void Node\+State\+::show\+\_\+current\+\_\+state (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Print the state of the top chain 

The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
block\+\_\+chain/chain/Node\+State.\+h\item 
block\+\_\+chain/chain/Node\+State.\+cpp\end{DoxyCompactItemize}
